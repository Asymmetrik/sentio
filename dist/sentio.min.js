/*! sentio Version: 0.1.0 */
function sentio_realtime_timeline(){"use strict";function t(){}function n(){if(u){var t=new Date,e=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];f.forEach(function(n){var a=g.y(n),r=g.x(n);r<t-l+o.reveal&&(e[0]>a&&(e[0]=a),e[1]<a&&(e[1]=a))}),Number.POSITIVE_INFINITY===e[0]&&Number.NEGATIVE_INFINITY===e[1]&&(e=[0,10]),e[0]>=e[1]&&(e[1]=e[0]+1),e[1]+=.1*(e[1]-e[0]),c.x.domain([t-l-s,t-l]),c.y.domain(e),m.g.line.select(".line").attr("d",d).attr("transform",null),m.g.xAxis.transition().duration(o.reveal).ease("linear").call(x.x),m.g.yAxis.transition().duration(o.animate).call(x.y),m.g.line.select(".line").transition().duration(o.reveal).ease("linear").attr("transform","translate(-"+c.x(t-l-s+o.reveal)+")").each("end",n)}}var e="rt_timeline_clip_"+Date.now(),a={top:10,right:10,bottom:20,left:40},r=100,i=600,l=1e4,s=6e4,o={reveal:750,animate:300},u=!1,g={x:function(t){return t[0]},y:function(t){return t[1]}},c={x:d3.time.scale(),y:d3.scale.linear()},x={x:d3.svg.axis().scale(c.x).orient("bottom"),y:d3.svg.axis().scale(c.y).orient("left")},m={svg:void 0,g:{container:void 0,xAxis:void 0,yAxis:void 0,line:void 0},clipPath:void 0},d=d3.svg.line();d.x(function(t,n){return c.x(g.x(t,n))}),d.y(function(t,n){return c.y(g.y(t,n))});var f=[];return t.init=function(n){return m.svg=n.append("svg"),m.clipPath=m.svg.append("defs").append("clipPath").attr("id",e).append("rect"),m.g.container=m.svg.append("g"),m.g.line=m.g.container.append("g").attr("clip-path","url(#"+e+")"),m.g.line.append("path").attr("class","line"),m.g.xAxis=m.g.container.append("g").attr("class","x axis"),m.g.yAxis=m.g.container.append("g").attr("class","y axis"),t},t.data=function(n){return arguments.length?(f=n,m.g.line.datum(f),t):f},t.redraw=function(){Date.now();return c.x.range([0,i-a.left-a.right]),c.y.range([r-a.top-a.bottom,0]),m.clipPath.attr("width",i-a.left-a.right).attr("height",r-a.top-a.bottom),m.svg.attr("width",i).attr("height",r),m.g.xAxis.attr("transform","translate(0,"+c.y.range()[0]+")"),m.g.yAxis.attr("class","y axis"),m.g.container.attr("transform","translate("+a.left+","+a.top+")"),t},t.start=function(){u||(u=!0,n())},t.stop=function(){u&&(u=!1)},t.width=function(n){return arguments.length?(i=n,t):i},t.height=function(n){return arguments.length?(r=n,t):r},t.xAxis=function(n){return arguments.length?(x.x=n,t):x.x},t.yAxis=function(n){return arguments.length?(x.y=n,t):x.y},t.xScale=function(n){return arguments.length?(c.x=n,x.x.scale(n),t):c.x},t.yScale=function(n){return arguments.length?(c.y=n,x.y.scale(n),t):c.y},t.xValue=function(n){return arguments.length?(g.x=n,t):n.x},t.yValue=function(n){return arguments.length?(g.y=n,t):n.y},t}var sentio={},sentio_realtime=sentio.realtime={};sentio.realtime.timeline=sentio_realtime_timeline;